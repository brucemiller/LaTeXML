% ifx test with noexpand
\def\foo{foo}%
\def\bar{bar}%
\expandafter\expandafter%
    \expandafter\ifx%
        \expandafter\noexpand\expandafter\foo\noexpand\bar yes%
    \else no%
    \fi%

\def\foo{foo}%
\expandafter\ifx\noexpand\foo\relax yes\else no\fi%

% ifcat tests
\catcode`[=13 \catcode`]=13 \def[{*}
ifcat 1: \ifcat\noexpand[\noexpand] true \else false\fi

ifcat 2: \ifcat[* true \else false \fi

ifcat 3: \ifcat\noexpand[* true \else false\fi

% if tests
if 1: \if\noexpand[\noexpand] true \else false\fi

if 2: \if[* true \else false \fi

if 3: \if\noexpand[* true \else false\fi


% Advanced from xparse.sty: \ifx on "\noexpand\count" and "\count" is true, as counts are not expandable
\def\itoii#1#2#3{#1#2}
\chardef\eend=0\relax
\newcount\index
\index=4

\expandafter\ifx\noexpand\index\index\else\expandafter\itoii\fi
\expandafter\eend\the\index

\bye