\documentclass{article}
\usepackage{latexml}
\usepackage{amsmath}
\def\mockarray{\begin{array}{cc} 
  a & b \\
  c & d \end{array}}
\def\mockcases{\begin{cases}{cc} 
  a & b \\
  c & d \end{cases}}

\begin{document}

All examples in this test should be successfully parsed by LaTeXML's grammar, and are meant as regression tests.

% intended to cover all productions in MathGrammar
\section{sanity check}
\begin{enumerate}
\item $1+1=2$
\end{enumerate}

\section{Factor}
\subsubsection{Empty Balanced}
\begin{enumerate}
  \item $()$
  \item $[]$
  \item $\{\}$
  \item $\langle\rangle$
  \item $\lfloor\rfloor$
  \item $\lceil\rceil$
\end{enumerate}

\subsubsection{Single Factor production and Monomials}
\begin{enumerate}
  % single productions
  \item $\times x$ % surprisingly parses as "times(absent, x)"
  \item $\mathbin{|} x$ % surprisingly parses via the "MulOp Factor" rule.
  \item $\sin$ % TRIGFUNCTION
  \item $\arcsin$
  \item $\neg$ % FUNCTION
  \item $\frac{1}{2}x$ % ATOM
  \item $_{a}$ % SCRIPTOPEN
  \item $12^3$ % scripted number
  \item $\int$  % single integral op
  \item $\int x$ 
  \item $\int x\, dx$
  \item $\sum$
  \item $\sum x$
  \item $\{ x \mid x>0 \}$ % SCRIPTOPEN set constructor
  \item $|| x || $ % norm
  \item $|a|$ % absolute value
  \item $\langle \phi |$ % bra
  \item $| \psi \rangle$ % ket
  \item $\langle \phi | \psi \rangle$ %bra-ket
  % some monomials (?)
  \item $xyz$
  \item $\sqrt{x}\sqrt{y}$
  \item $()[]\{\}[]()$ % stacked empty
  \item $2|ab|$ % absolute value monomial
  \item $|| x || a || y || $ % 2-norms monomial
\end{enumerate}

% todo: factoropen

\subsubsection{Arrays}
\begin{enumerate}
  \item standalone cases 
  $$\mockcases$$

  \item standalone array
  $$\mockarray$$
  
  \item lbrace array 
  $$\{ \mockarray$$
  
  \item rbrace array 
  $$\mockarray \}$$

\end{enumerate}

\section{Advanced Scripted}
\begin{enumerate}
  \item $\mathrm{Na}^+$ % chemistry op
  \item $\psi^{\prime\prime}$
  \item $\int_0^\infty x^2 dx$
  \item $\int_\infty^{(0+)} t\,dt$
  \item $\int_\infty^{(1+,0+,1−,0−)} t\,dt$
  \item $\sum_{i=0}^{50} x^i$
  \item $$\sum_{\scriptstyle0\le i\le m\atop\scriptstyle0<j<n}P(i,j)$$ % courtesy of TeXbook, p.145
  \item $$\sum_{i=1}^p\sum_{j=1}^q\sum_{k=1}^r a_{ij}b_{jk}c_{ki}$$ % courtesy of TeXbook, p.145
\end{enumerate}

\section{Advanced Fenced}
\begin{enumerate}
  \item $\langle a,b \rangle $ % list
  \item $\langle ab \rangle $ % unknown delimited
  \item $\langle a \rangle$ % unknown delimited
\end{enumerate}

\section{Polynomial and multi-relations}
\begin{enumerate}
\item $ab + cd - ef + gh $
\item $|A\rangle = |B\rangle + |C\rangle$
\item $1 \leq l < j \leq n $
\item $1<x<10, 2<y<20, 3<z<30$
\item $a,b ~ \alpha + \frac{1}{\alpha}$
\end{enumerate}

\section{Modifier Expressions}
\begin{enumerate}
  \item $>0$
  \item $(>0)$
  \item $x(>0)$
  \item $h(\in C)$
  \item $x : \mathrm{Integer}$
  \item $f : \mathrm{Integer} \Rightarrow \mathrm{Real}$
\end{enumerate}

\section{Edge/Artefact Cases}
\begin{enumerate}
  \item $\,$  % empty formula 
\end{enumerate}

\section{Token Expressions}

% Provide examples for each grammar terminal, so that we can write out lexed expressions
\def\ATOM{\frac{1}{2}}
\def\UNKNOWN{x}
\def\ID{\infty}
\def\ARRAY{\mockarray}
\def\NUMBER{\pi}
\def\PUNCT{,}
\def\PERIOD{.}
\def\RELOP{<}
\def\LANGLE{\langle}
\def\RANGLE{\rangle}
\def\MIDBAR{\bigm{|}}
\def\LBRACE{\{}
\def\RBRACE{\}}
\def\METARELOP{=}
\def\MODIFIEROP{\mod}
\def\MODIFIER{\pod{3}}
\def\ARROW{\uparrow}
\def\ADDOP{+}
\def\MULOP{\times}
\def\FRACOP{/}
\def\BINOP{\mathbin{@}}
\def\POSTFIX{!}
\def\FUNCTION{\neg}
\def\OPFUNCTION{\arcsin}
\def\TRIGFUNCTION{\sin}
\def\APPLYOP{\@APPLYFUNCTION} % internal mechanism?
\lxDeclare[role=COMPOSEOP,meaning=compose]{$*$} % no apriori known ?
\def\COMPOSEOP{*}
\def\SUPOP{\prime}
\def\OPEN{(}
\def\CLOSE{)}
\def\SCRIPTOPEN{\{}
\def\MIDDLE{\bigm{m}}
\def\VERTBAR{||}
\def\SINGLEVERTBAR{|}
\def\BIGOP{\forall}
\def\SUMOP{\sum}
\def\INTOP{\int}
\def\LIMITOP{\lim}
\def\DIFFOP{d}
\def\OPERATOR{\partial}
\def\POSTSUBSCRIPT{_}
\def\POSTSUPERSCRIPT{^}
\def\FLOATSUBSCRIPT{_}
\def\FLOATSUPERSCRIPT{^}

These are examples using the currently employed terminals in MathGrammar, to enumerate expressions that should remain grammatical if the grammar is modified.

\begin{enumerate}
  \item $\OPEN \CLOSE$
  \item $\UNKNOWN \RELOP \UNKNOWN \METARELOP \UNKNOWN \RELOP \UNKNOWN$
  \item $\ATOM \ADDOP \ATOM \RELOP \ARRAY$
  \item $\OPFUNCTION \NUMBER \ADDOP \FUNCTION \UNKNOWN \METARELOP \LBRACE \ARRAY$


\end{enumerate}

\end{document}
